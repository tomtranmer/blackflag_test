<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Dashboard</title>
<link rel=stylesheet href=/styles.css></head><body><div class=home-link><a href=/>Home</a></div><header><h2><img src=/img/black_flag_noclip.png alt="Black Flag Logo" class=logo>
Dashboard
<img src=/img/black_flag_noclip.png alt="Black Flag Logo" class=logo></h2></header><div class=dashboard-container><h1>Dashboard</h1><p>Welcome to your Black Flag dashboard. Here you can manage your participation in our community.</p><div id=loading-message>Loading your profile...</div><div id=dashboard-content style=display:none><div class=user-info><h2>Your Profile</h2><p id=user-id></p><p id=user-email></p><p id=user-wallet></p></div><div class=dashboard-actions><h2>Actions</h2><button id=logout-button class=button>Logout</button></div></div><div id=not-authenticated style=display:none><p>You need to login to view this page.</p><a href=/login class=button>Go to Login</a></div></div><style>.dashboard-container{max-width:800px;margin:2rem auto;padding:1rem}.user-info,.dashboard-actions{margin-bottom:2rem;padding:1rem;border:1px solid #ddd;border-radius:8px}.button{background:#333;color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-size:16px;display:inline-flex;align-items:center;justify-content:center;gap:.5rem;text-decoration:none}.button:hover{background:#555}</style><script>const PRIVY_APP_ID="client-WY2fr1iUtnzfTBZERvcJvo37SUfw8gaCzT9Cn7ri4bTLa",PRIVY_API_URL="https://auth.privy.io/api/v1",loadingMessage=document.getElementById("loading-message"),dashboardContent=document.getElementById("dashboard-content"),notAuthenticated=document.getElementById("not-authenticated"),userIdElement=document.getElementById("user-id"),userEmailElement=document.getElementById("user-email"),userWalletElement=document.getElementById("user-wallet"),logoutButton=document.getElementById("logout-button");document.addEventListener("DOMContentLoaded",checkAuthentication),logoutButton.addEventListener("click",logout);async function checkAuthentication(){const e=localStorage.getItem("privy_token");if(!e){showNotAuthenticated();return}try{const t=await fetch(`${PRIVY_API_URL}/users/me`,{method:"GET",headers:{Authorization:`Bearer ${e}`,"privy-app-id":PRIVY_APP_ID}});if(!t.ok)throw new Error("Authentication failed");const n=await t.json();displayUserData(n)}catch(e){console.error("Authentication error:",e),showNotAuthenticated()}}function displayUserData(e){userIdElement.textContent=`User ID: ${e.id}`,e.email?userEmailElement.textContent=`Email: ${e.email}`:userEmailElement.style.display="none",e.wallet_address?userWalletElement.textContent=`Wallet: ${e.wallet_address}`:userWalletElement.style.display="none",loadingMessage.style.display="none",dashboardContent.style.display="block"}function showNotAuthenticated(){loadingMessage.style.display="none",dashboardContent.style.display="none",notAuthenticated.style.display="block"}async function logout(){const e=localStorage.getItem("privy_token");if(e)try{await fetch(`${PRIVY_API_URL}/auth/logout`,{method:"POST",headers:{Authorization:`Bearer ${e}`,"privy-app-id":PRIVY_APP_ID}})}catch(e){console.error("Logout error:",e)}localStorage.removeItem("privy_token"),window.location.href="/"}</script></body></html>