<!doctype html><html lang=en><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Deposit to PoolTogether</title>
<link rel=stylesheet href=/styles.css></head><body><div class=home-link><a href=/>Home</a></div><header><h2><img src=/img/black_flag_noclip.png alt="Black Flag Logo" class=logo>
Deposit to PoolTogether
<img src=/img/black_flag_noclip.png alt="Black Flag Logo" class=logo></h2></header><div class=deposit-container><h1>Deposit to PoolTogether</h1><p>Welcome to the PoolTogether deposit page. Connect your wallet to get started.</p><div id=wallet-status><div id=wallet-buttons class=wallet-buttons><button id=connect-metamask class=button>
<img src=https://raw.githubusercontent.com/MetaMask/brand-resources/master/SVG/metamask-fox.svg alt=MetaMask width=20>
Connect MetaMask
</button>
<button id=connect-walletconnect class=button>
<img src=https://raw.githubusercontent.com/WalletConnect/walletconnect-assets/master/Icon/Icon.svg alt=WalletConnect width=20>
WalletConnect</button></div><p id=wallet-address style=display:none></p></div><div id=deposit-form style=display:none><h2>Make a Deposit</h2><div class=input-group><label for=amount>Amount (in ETH)</label>
<input type=number id=amount step=0.01 min=0></div><button id=deposit-button class=button>Deposit</button></div><div id=status-message></div></div><style>.deposit-container{max-width:600px;margin:2rem auto;padding:1rem}.wallet-buttons{display:flex;flex-direction:column;gap:1rem;margin:1rem 0}.button{background:#6c5dd3;color:#fff;border:none;padding:12px 24px;border-radius:8px;cursor:pointer;font-size:16px;display:flex;align-items:center;justify-content:center;gap:.5rem}.button:hover{background:#5648b2}.button img{width:20px;height:20px}.input-group{margin:1rem 0}.input-group label{display:block;margin-bottom:.5rem}.input-group input{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px}#status-message{margin-top:1rem;padding:1rem;border-radius:4px}.error{background:#ffebee;color:#c62828}.success{background:#e8f5e9;color:#2e7d32}</style><script src=https://cdn.ethers.io/lib/ethers-5.7.2.umd.min.js></script><script src=https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js></script><script>const POOL_TOGETHER_ADDRESS="0x79bc8bd53244bc8a9c8c27509a2d573650a83373",POOL_TOGETHER_ABI=["function deposit(uint256 assets, address receiver) returns (uint256 shares)","function approve(address spender, uint256 amount) returns (bool)"];let provider,signer,contract;async function connectMetaMask(){try{if(!window.ethereum)throw new Error("Please install MetaMask to use this feature");provider=new ethers.providers.Web3Provider(window.ethereum),await provider.send("eth_requestAccounts",[]),await setupWallet()}catch(e){showStatus(e.message,"error")}}async function connectWalletConnect(){try{const e=new WalletConnectProvider.default({infuraId:"YOUR_INFURA_ID",rpc:{10:"https://mainnet.optimism.io"}});await e.enable(),provider=new ethers.providers.Web3Provider(e),await setupWallet()}catch(e){showStatus(e.message,"error")}}async function setupWallet(){signer=provider.getSigner();const e=await signer.getAddress();document.getElementById("wallet-address").textContent=`Connected: ${e.substring(0,6)}...${e.substring(38)}`,document.getElementById("wallet-address").style.display="block",document.getElementById("wallet-buttons").style.display="none",document.getElementById("deposit-form").style.display="block",contract=new ethers.Contract(POOL_TOGETHER_ADDRESS,POOL_TOGETHER_ABI,signer),showStatus("Wallet connected successfully!","success")}async function deposit(){try{const e=document.getElementById("amount").value;if(!e||e<=0)throw new Error("Please enter a valid amount");const t=ethers.utils.parseEther(e);showStatus("Approving transaction...","info");const n=await contract.approve(POOL_TOGETHER_ADDRESS,t);await n.wait(),showStatus("Depositing funds...","info");const s=await contract.deposit(t,await signer.getAddress());await s.wait(),showStatus("Deposit successful!","success")}catch(e){showStatus(e.message,"error")}}function showStatus(e,t){const n=document.getElementById("status-message");n.textContent=e,n.className=t}document.getElementById("connect-metamask").addEventListener("click",connectMetaMask),document.getElementById("connect-walletconnect").addEventListener("click",connectWalletConnect),document.getElementById("deposit-button").addEventListener("click",deposit)</script></body></html>